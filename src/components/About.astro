---
import { Image } from 'astro:assets';
import aboutImage from '../assets/about.png';
import { icon } from '@fortawesome/fontawesome-svg-core';
import type { IconName } from '@fortawesome/fontawesome-svg-core';
import '../utils/fontawesome';

interface Stat {
  icon: IconName;
  text: string;
}

const stats: Stat[] = [
  {
    icon: 'code' as IconName,
    text: 'Desenvolvimento com tecnologias modernas',
  },
  { icon: 'bolt' as IconName, text: 'Sites rápidos e responsivos' },
  {
    icon: 'shield-alt' as IconName,
    text: 'Segurança e confiabilidade garantidas',
  },
  { icon: 'handshake' as IconName, text: 'Atendimento personalizado' },
];

function generateIconHtml(iconName: IconName) {
  const faIcon = icon({ prefix: 'fas', iconName });
  return faIcon ? faIcon.html[0] : '';
}
---

<section id="about" class="py-20 bg-[#0f172a]" aria-labelledby="about-heading">
  <div class="container mx-auto px-6">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
      <!-- Text Content - Ordem: 1 (sempre primeiro) -->
      <div class="lg:order-2 order-1">
        <!-- Título -->
        <div class="fade-in-right">
          <span
            class="text-sm font-semibold tracking-wider uppercase text-blue-400"
            aria-hidden="true"
          >
            Sobre a zeroDoze Dev
          </span>

          <h2
            id="about-heading"
            class="mt-4 text-3xl md:text-4xl lg:text-5xl font-bold text-white"
          >
            Nossa <span
              class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500"
              >História</span
            >
          </h2>
        </div>

        <!-- Image Section - Ordem: 2 (apenas em mobile) -->
        <div class="relative group fade-in-left lg:hidden block my-8">
          <Image
            src={aboutImage}
            alt="Nossa equipe trabalhando em conjunto em projetos digitais"
            width={1170}
            height={780}
            class="w-full h-auto rounded-xl shadow-2xl transition-transform duration-500 group-hover:scale-[1.01] border border-slate-700"
            format="png"
            loading="lazy"
          />

          <!-- Decorative Elements -->
          <div
            class="absolute -bottom-4 -left-4 w-24 h-24 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full blur-xl"
            aria-hidden="true"
          >
          </div>
          <div
            class="absolute -top-4 -right-4 w-24 h-24 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-full blur-xl"
            aria-hidden="true"
          >
          </div>
        </div>

        <!-- Texto - Ordem: 3 -->
        <div class="space-y-4 mt-6 fade-in-right">
          <p class="text-lg text-slate-400">
            A zeroDoze Dev foi fundada por um desenvolvedor full-stack que,
            inicialmente, programava por puro hobbie. Com o tempo, essa paixão
            se transformou em uma missão: criar experiências digitais que não
            apenas atendem às necessidades dos clientes, mas que também ofereça
            um orçamento que seja acessível e justo a microempreendedores e
            pequenas empresas.
          </p>

          <p class="text-lg text-slate-400">
            Meu objetivo é ajudar você a transformar sua ideia em realidade,
            seja ela um site institucional, uma loja virtual ou um sistema sob
            medida. Com uma abordagem centrada no cliente e um compromisso
            inabalável com a qualidade, estou aqui para garantir que sua jornada
            digital seja tão emocionante quanto o destino.
          </p>

          <p class="text-lg text-slate-400">
            Se você está procurando um parceiro confiável para levar seu projeto
            digital ao próximo nível, a zeroDoze Dev é a escolha certa.
          </p>
        </div>

        <!-- Stats Grid -->
        <div
          class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"
          role="list"
          aria-label="Nossas conquistas"
        >
          {
            stats.map((stat) => (
              <div
                class="flex items-start gap-3 group/stat p-2 rounded-lg hover:bg-slate-800/30 transition-colors duration-300"
                role="listitem"
              >
                <div
                  class="text-lg sm:text-xl text-green-400 transition-transform duration-300 group-hover/stat:scale-110 flex-shrink-0 mt-1"
                  set:html={generateIconHtml(stat.icon)}
                  aria-hidden="true"
                />
                <p class="text-sm sm:text-base text-slate-300 group-hover/stat:text-white transition-colors duration-300">
                  {stat.text}
                </p>
              </div>
            ))
          }
        </div>
      </div>

      <!-- Image Section - Ordem: 2 (apenas em desktop) -->
      <div class="relative group fade-in-left hidden lg:block lg:order-1">
        <Image
          src={aboutImage}
          widths={[240, 540, 720, aboutImage.width]}
          sizes="(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, 100vw"
          alt="Nossa equipe trabalhando em conjunto em projetos digitais"
          class="w-full h-auto rounded-xl shadow-2xl transition-transform duration-500 group-hover:scale-[1.01] border border-slate-700"
          format="png"
          loading="lazy"
        />

        <!-- Decorative Elements -->
        <div
          class="absolute -bottom-4 -left-4 w-24 h-24 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full blur-xl"
          aria-hidden="true"
        >
        </div>
        <div
          class="absolute -top-4 -right-4 w-24 h-24 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-full blur-xl"
          aria-hidden="true"
        >
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .fade-in-left {
    animation-name: fadeInLeft;
  }

  .fade-in-right {
    animation-name: fadeInRight;
    animation-delay: 0.2s;
  }

  :global(.svg-inline--fa) {
    width: 1.25em;
    height: 1.25em;
    vertical-align: -0.125em;
  }
</style>
